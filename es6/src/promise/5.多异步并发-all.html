<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="4.获取文件.js"></script>
</head>
<body>

<script>
//    Promise.all(
//            [
//                getJSON('./config1.json'),
//                getJSON('./config2.json')
//            ]
//    ).then(function(res){
//            debugger;
//        }
//    )

//（1）只有p1、p2、p3的状态都变成fulfilled，p的状态才会变成fulfilled，此时p1、p2、p3的返回值组成一个数组，传递给p的回调函数。
//
//（2）只要p1、p2、p3之中有一个被rejected，p的状态就变成rejected，此时第一个被reject的实例的返回值，会传递给p的回调函数。

    //去掉3,会成功
    var promises = [1,2,3].map(function (id) {
        return getJSON("config" + id + ".json");
    });

    Promise.all(promises).then(function (posts) {
        console.log(posts[0],posts[1])
    }).catch(function(reason){
        console.log(reason)
    });
</script>
</body>
</html>